var e,t,r={1302(e,t,r){r.d(t,{E:()=>s,n:()=>a});const n={},o=new Array(64);for(let e=0,t="A".charCodeAt(0),r="Z".charCodeAt(0);e+t<=r;e++){const r=String.fromCharCode(e+t);n[r]=e,o[e]=r}for(let e=0,t="a".charCodeAt(0),r="z".charCodeAt(0);e+t<=r;e++){const r=String.fromCharCode(e+t),s=e+26;n[r]=s,o[s]=r}for(let e=0;e<10;e++){n[e.toString(10)]=e+52;const t=e.toString(10),r=e+52;n[t]=r,o[r]=t}n["+"]=62,o[62]="+",n["/"]=63,o[63]="/";const s=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const r=new ArrayBuffer(t),o=new DataView(r);for(let t=0;t<e.length;t+=4){let r=0,s=0;for(let o=t,i=t+3;o<=i;o++)if("="!==e[o]){if(!(e[o]in n))throw new TypeError(`Invalid character ${e[o]} in base64 string.`);r|=n[e[o]]<<6*(i-o),s+=6}else r>>=6;const i=t/4*3;r>>=s%8;const a=Math.floor(s/8);for(let e=0;e<a;e++){const t=8*(a-e-1);o.setUint8(i+e,(r&255<<t)>>t)}}return new Uint8Array(r)};var i=r(2637);function a(e){let t;t="string"==typeof e?(0,i.a)(e):e;const r="object"==typeof t&&"number"==typeof t.length,n="object"==typeof t&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength;if(!r&&!n)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let s="";for(let e=0;e<t.length;e+=3){let r=0,n=0;for(let o=e,s=Math.min(e+3,t.length);o<s;o++)r|=t[o]<<8*(s-o-1),n+=8;const i=Math.ceil(n/6);r<<=6*i-n;for(let e=1;e<=i;e++){const t=6*(i-e);s+=o[(r&63<<t)>>t]}s+="==".slice(0,4-i)}return s}},2531(e,t,r){r.d(t,{o:()=>n});const n=e=>encodeURIComponent(e).replace(/[!'()*]/g,o),o=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},2637(e,t,r){r.d(t,{a:()=>n});const n=e=>(new TextEncoder).encode(e)},3339(e,t,r){r.d(t,{Mu:()=>i,c9:()=>l});var n=r(1302),o=r(5792),s=r(2637);class i extends Uint8Array{static fromString(e,t="utf-8"){if("string"==typeof e)return function(e,t){return"base64"===t?i.mutate((0,n.E)(e)):i.mutate((0,s.a)(e))}(e,t);throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)}static mutate(e){return Object.setPrototypeOf(e,i.prototype),e}transformToString(e="utf-8"){return function(e,t="utf-8"){return"base64"===t?(0,n.n)(e):(0,o.P)(e)}(this,e)}}var a=r(3957),c=r(8004);const d="The stream has already been transformed.",l=e=>{if(!u(e)&&!f(e))throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${e?.__proto__?.constructor?.name||e}`);let t=!1;const r=async()=>{if(t)throw new Error(d);return t=!0,await(0,a.kv)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async e=>{const t=await r();if("base64"===e)return(0,n.n)(t);if("hex"===e)return(0,c.n)(t);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,o.P)(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(d);if(t=!0,u(e))return(e=>{if("function"!=typeof e.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()})(e);if(f(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})},u=e=>"function"==typeof Blob&&e instanceof Blob,f=e=>"function"==typeof ReadableStream&&e instanceof ReadableStream},3957(e,t,r){r.d(t,{NC:()=>a,kv:()=>d});var n=r(5479),o=r(2531);function s(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",r(t)},e)})}const i=Boolean("undefined"!=typeof Request&&"keepalive"in new Request("https://[::1]"));class a{static create(e){return"function"==typeof e?.handle?e:new a(e)}constructor(e){"function"==typeof e?this.configProvider=e().then(e=>e||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config))}destroy(){}async handle(e,{abortSignal:t}={}){this.config||(this.config=await this.configProvider);const r=this.config.requestTimeout,a=!0===this.config.keepAlive;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let c=e.path;const d=function(e){const t=[];for(let r of Object.keys(e).sort()){const n=e[r];if(r=(0,o.o)(r),Array.isArray(n))for(let e=0,s=n.length;e<s;e++)t.push(`${r}=${(0,o.o)(n[e])}`);else{let e=r;(n||"string"==typeof n)&&(e+=`=${(0,o.o)(n)}`),t.push(e)}}return t.join("&")}(e.query||{});d&&(c+=`?${d}`),e.fragment&&(c+=`#${e.fragment}`);let l="";null==e.username&&null==e.password||(l=`${e.username??""}:${e.password??""}@`);const{port:u,method:f}=e,h=`${e.protocol}//${l}${e.hostname}${u?`:${u}`:""}${c}`,p={body:"GET"===f||"HEAD"===f?void 0:e.body,headers:new Headers(e.headers),method:f};"undefined"!=typeof AbortController&&(p.signal=t),i&&(p.keepalive=a);const m=new Request(h,p),y=[fetch(m).then(e=>{const t=e.headers,r={};for(const e of t.entries())r[e[0]]=e[1];return null!=e.body?{response:new n.cS({headers:r,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then(t=>({response:new n.cS({headers:r,reason:e.statusText,statusCode:e.status,body:t})}))}),s(r)];return t&&y.push(new Promise((e,r)=>{t.onabort=()=>{const e=new Error("Request aborted");e.name="AbortError",r(e)}})),Promise.race(y)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=t,r))}httpHandlerConfigs(){return this.config??{}}}var c=r(1302);const d=e=>"function"==typeof Blob&&e instanceof Blob?async function(e){const t=await function(e){return new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{if(2!==n.readyState)return r(new Error("Reader aborted too early"));const e=n.result??"",o=e.indexOf(","),s=o>-1?o+1:e.length;t(e.substring(s))},n.onabort=()=>r(new Error("Read aborted")),n.onerror=()=>r(n.error),n.readAsDataURL(e)})}(e),r=(0,c.E)(t);return new Uint8Array(r)}(e):async function(e){let t=new Uint8Array(0);const r=e.getReader();let n=!1;for(;!n;){const{done:e,value:o}=await r.read();if(o){const e=t;t=new Uint8Array(e.length+o.length),t.set(e),t.set(o,e.length)}n=e}return t}(e)},5479(e,t,r){r.d(t,{Kd:()=>s,cS:()=>i,eS:()=>n,jt:()=>o});const n=e=>{let t=e.httpHandler;return{setHttpHandler(e){t=e},httpHandler:()=>t,updateHttpClientConfig(e,r){t.updateHttpClientConfig(e,r)},httpHandlerConfigs:()=>t.httpHandlerConfigs()}},o=e=>({httpHandler:e.httpHandler()});r(7523);class s{constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){const e=new s({...this,headers:{...this.headers}});var t;return e.query&&(e.query=(t=e.query,Object.keys(t).reduce((e,r)=>{const n=t[r];return{...e,[r]:Array.isArray(n)?[...n]:n}},{}))),e}}class i{constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}},5792(e,t,r){r.d(t,{P:()=>n});const n=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)}},6055(e,t,r){r.d(t,{C1:()=>o,Bj:()=>s});class n extends Error{constructor(e,t=!0){super(e),this.tryNextLink=t,this.name="ProviderError",Object.setPrototypeOf(this,n.prototype)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}class o extends n{constructor(e,t=!0){super(e,t),this.tryNextLink=t,this.name="CredentialsProviderError",Object.setPrototypeOf(this,o.prototype)}}const s=(e,t,r)=>{let n,o,s,i=!1;const a=async()=>{o||(o=e());try{n=await o,s=!0,i=!1}finally{o=void 0}return n};return void 0===t?async e=>(s&&!e?.forceRefresh||(n=await a()),n):async e=>(s&&!e?.forceRefresh||(n=await a()),i?n:r&&!r(n)?(i=!0,n):t(n)?(await a(),n):n)}},6642(e,t,r){r.d(t,{Kj:()=>d,uB:()=>h,N4:()=>n,$H:()=>m,TJ:()=>z,Ss:()=>ie,Px:()=>u,Mw:()=>L,Y0:()=>v,r$:()=>y,lK:()=>C,$6:()=>X,xA:()=>Z,rm:()=>ee,lT:()=>W,l3:()=>O,EI:()=>P,t_:()=>k,uv:()=>Q,xW:()=>T,s:()=>re,jr:()=>B});class n{trace(){}debug(){}info(){}warn(){}error(){}}const o=(e,t)=>{const r=[];if(e&&r.push(e),t)for(const e of t)r.push(e);return r},s=(e,t)=>`${e||"anonymous"}${t&&t.length>0?` (a.k.a. ${t.join(",")})`:""}`,i=()=>{let e=[],t=[],r=!1;const n=new Set,d=r=>(e.forEach(e=>{r.add(e.middleware,{...e})}),t.forEach(e=>{r.addRelativeTo(e.middleware,{...e})}),r.identifyOnResolve?.(f.identifyOnResolve()),r),l=e=>{const t=[];return e.before.forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...l(e))}),t.push(e),e.after.reverse().forEach(e=>{0===e.before.length&&0===e.after.length?t.push(e):t.push(...l(e))}),t},u=(r=!1)=>{const n=[],i=[],d={};var u;return e.forEach(e=>{const t={...e,before:[],after:[]};for(const e of o(t.name,t.aliases))d[e]=t;n.push(t)}),t.forEach(e=>{const t={...e,before:[],after:[]};for(const e of o(t.name,t.aliases))d[e]=t;i.push(t)}),i.forEach(e=>{if(e.toMiddleware){const t=d[e.toMiddleware];if(void 0===t){if(r)return;throw new Error(`${e.toMiddleware} is not found when adding ${s(e.name,e.aliases)} middleware ${e.relation} ${e.toMiddleware}`)}"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}),(u=n,u.sort((e,t)=>a[t.step]-a[e.step]||c[t.priority||"normal"]-c[e.priority||"normal"])).map(l).reduce((e,t)=>(e.push(...t),e),[])},f={add:(t,r={})=>{const{name:i,override:a,aliases:c}=r,d={step:"initialize",priority:"normal",middleware:t,...r},l=o(i,c);if(l.length>0){if(l.some(e=>n.has(e))){if(!a)throw new Error(`Duplicate middleware name '${s(i,c)}'`);for(const t of l){const r=e.findIndex(e=>e.name===t||e.aliases?.some(e=>e===t));if(-1===r)continue;const n=e[r];if(n.step!==d.step||d.priority!==n.priority)throw new Error(`"${s(n.name,n.aliases)}" middleware with ${n.priority} priority in ${n.step} step cannot be overridden by "${s(i,c)}" middleware with ${d.priority} priority in ${d.step} step.`);e.splice(r,1)}}for(const e of l)n.add(e)}e.push(d)},addRelativeTo:(e,r)=>{const{name:i,override:a,aliases:c}=r,d={middleware:e,...r},l=o(i,c);if(l.length>0){if(l.some(e=>n.has(e))){if(!a)throw new Error(`Duplicate middleware name '${s(i,c)}'`);for(const e of l){const r=t.findIndex(t=>t.name===e||t.aliases?.some(t=>t===e));if(-1===r)continue;const n=t[r];if(n.toMiddleware!==d.toMiddleware||n.relation!==d.relation)throw new Error(`"${s(n.name,n.aliases)}" middleware ${n.relation} "${n.toMiddleware}" middleware cannot be overridden by "${s(i,c)}" middleware ${d.relation} "${d.toMiddleware}" middleware.`);t.splice(r,1)}}for(const e of l)n.add(e)}t.push(d)},clone:()=>d(i()),use:e=>{e.applyToStack(f)},remove:r=>"string"==typeof r?(r=>{let s=!1;const i=e=>{const t=o(e.name,e.aliases);if(t.includes(r)){s=!0;for(const e of t)n.delete(e);return!1}return!0};return e=e.filter(i),t=t.filter(i),s})(r):(r=>{let s=!1;const i=e=>{if(e.middleware===r){s=!0;for(const t of o(e.name,e.aliases))n.delete(t);return!1}return!0};return e=e.filter(i),t=t.filter(i),s})(r),removeByTag:r=>{let s=!1;const i=e=>{const{tags:t,name:i,aliases:a}=e;if(t&&t.includes(r)){const e=o(i,a);for(const t of e)n.delete(t);return s=!0,!1}return!0};return e=e.filter(i),t=t.filter(i),s},concat:e=>{const t=d(i());return t.use(e),t.identifyOnResolve(r||t.identifyOnResolve()||(e.identifyOnResolve?.()??!1)),t},applyToStack:d,identify:()=>u(!0).map(e=>{const t=e.step??e.relation+" "+e.toMiddleware;return s(e.name,e.aliases)+" - "+t}),identifyOnResolve:e=>("boolean"==typeof e&&(r=e),r),resolve:(e,t)=>{for(const r of u().map(e=>e.middleware).reverse())e=r(e,t);return r&&console.log(f.identify()),e}};return f},a={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},c={high:3,normal:2,low:1};class d{constructor(e){this.middlewareStack=i(),this.config=e}send(e,t,r){const n="function"!=typeof t?t:void 0,o="function"==typeof t?t:r,s=e.resolveMiddleware(this.middlewareStack,this.config,n);if(!o)return s(e).then(e=>e.output);s(e).then(e=>o(null,e.output),e=>o(e)).catch(()=>{})}destroy(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}var l=r(3339);const u=async(e=new Uint8Array,t)=>{if(e instanceof Uint8Array)return l.Mu.mutate(e);if(!e)return l.Mu.mutate(new Uint8Array);const r=t.streamCollector(e);return l.Mu.mutate(await r)};var f=r(7523);class h{constructor(){this.middlewareStack=i()}static classBuilder(){return new p}resolveMiddlewareWithContext(e,t,r,{middlewareFn:n,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,smithyContext:c,additionalContext:d,CommandCtor:l}){for(const o of n.bind(this)(l,e,t,r))this.middlewareStack.use(o);const u=e.concat(this.middlewareStack),{logger:h}=t,p={logger:h,clientName:o,commandName:s,inputFilterSensitiveLog:i,outputFilterSensitiveLog:a,[f.Vf]:{...c},...d},{requestHandler:m}=t;return u.resolve(e=>m.handle(e.request,r||{}),p)}}class p{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=e=>e,this._outputFilterSensitiveLog=e=>e,this._serializer=null,this._deserializer=null}init(e){this._init=e}ep(e){return this._ep=e,this}m(e){return this._middlewareFn=e,this}s(e,t,r={}){return this._smithyContext={service:e,operation:t,...r},this}c(e={}){return this._additionalContext=e,this}n(e,t){return this._clientName=e,this._commandName=t,this}f(e=e=>e,t=e=>e){return this._inputFilterSensitiveLog=e,this._outputFilterSensitiveLog=t,this}ser(e){return this._serializer=e,this}de(e){return this._deserializer=e,this}build(){const e=this;let t;return t=class extends h{static getEndpointParameterInstructions(){return e._ep}constructor(...[t]){super(),this.serialize=e._serializer,this.deserialize=e._deserializer,this.input=t??{},e._init(this)}resolveMiddleware(r,n,o){return this.resolveMiddlewareWithContext(r,n,o,{CommandCtor:t,middlewareFn:e._middlewareFn,clientName:e._clientName,commandName:e._commandName,inputFilterSensitiveLog:e._inputFilterSensitiveLog,outputFilterSensitiveLog:e._outputFilterSensitiveLog,smithyContext:e._smithyContext,additionalContext:e._additionalContext})}}}}const m="***SensitiveInformation***",y=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&x.warn(I(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},w=Math.ceil(2**127*(2-2**-23)),g=(e,t)=>{const r=(e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}})(e);if(void 0!==r&&b(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},b=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},v=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},C=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return x.warn(I(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},S=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,E=e=>{const t=e.match(S);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},T=e=>(e=>g(e,32))("string"==typeof e?E(e):e),A=e=>(e=>g(e,16))("string"==typeof e?E(e):e),I=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),x={warn:console.warn},$=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),P=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=_.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,s,i,a,c,d]=t,l=A(F(n)),u=U(o,"month",1,12),f=U(s,"day",1,31);return j(l,u,f,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d})},R=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),k=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=R.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,o,s,i,a,c,d,l]=t,u=A(F(n)),f=U(o,"month",1,12),h=U(s,"day",1,31),p=j(u,f,h,{hours:i,minutes:a,seconds:c,fractionalMilliseconds:d});return"Z"!=l.toUpperCase()&&p.setTime(p.getTime()-D(l)),p},O=e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else{if("string"!=typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=(e=>y("string"==typeof e?E(e):e))(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))},j=(e,t,r,n)=>{const o=t-1;return M(e,o,r),new Date(Date.UTC(e,o,r,U(n.hours,"hour",0,23),U(n.minutes,"minute",0,59),U(n.seconds,"seconds",0,60),q(n.fractionalMilliseconds)))},N=[31,28,31,30,31,30,31,31,30,31,30,31],M=(e,t,r)=>{let n=N[t];if(1===t&&H(e)&&(n=29),r>n)throw new TypeError(`Invalid day for ${$[t]} in ${e}: ${r}`)},H=e=>e%4==0&&(e%100!=0||e%400==0),U=(e,t,r,n)=>{const o=(e=>(e=>g(e,8))("string"==typeof e?E(e):e))(F(e));if(o<r||o>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return o},q=e=>null==e?0:1e3*(e=>(e=>{const t=y(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>w)throw new TypeError(`Expected 32-bit float, got ${e}`);return t})("string"==typeof e?E(e):e))("0."+e),D=e=>{const t=e[0];let r=1;if("+"==t)r=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);r=-1}return r*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},F=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)};class z extends Error{constructor(e){super(e.message),Object.setPrototypeOf(this,z.prototype),this.name=e.name,this.$fault=e.$fault,this.$metadata=e.$metadata}}const L=(e,t={})=>{Object.entries(t).filter(([,e])=>void 0!==e).forEach(([t,r])=>{null!=e[t]&&""!==e[t]||(e[t]=r)});const r=e.message||e.Message||"UnknownError";return e.message=r,delete e.Message,e},B=e=>({output:t,parsedBody:r,errorCode:n})=>{(({output:e,parsedBody:t,exceptionCtor:r,errorCode:n})=>{const o=K(e),s=o.httpStatusCode?o.httpStatusCode+"":void 0,i=new r({name:t?.code||t?.Code||n||s||"UnknownError",$fault:"client",$metadata:o});throw L(i,t)})({output:t,parsedBody:r,exceptionCtor:e,errorCode:n})},K=e=>({httpStatusCode:e.statusCode,requestId:e.headers["x-amzn-requestid"]??e.headers["x-amzn-request-id"]??e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}),W=e=>{switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},J=e=>{const t=[];for(const r in f.dB){const n=f.dB[r];void 0!==e[n]&&t.push({algorithmId:()=>n,checksumConstructor:()=>e[n]})}return{_checksumAlgorithms:t,addChecksumAlgorithm(e){this._checksumAlgorithms.push(e)},checksumAlgorithms(){return this._checksumAlgorithms}}},G=e=>{const t={};return e.checksumAlgorithms().forEach(e=>{t[e.algorithmId()]=e.checksumConstructor()}),t},V=e=>{let t=e.retryStrategy;return{setRetryStrategy(e){t=e},retryStrategy:()=>t}},Y=e=>{const t={};return t.retryStrategy=e.retryStrategy(),t},Z=e=>({...J(e),...V(e)}),Q=e=>({...G(e),...Y(e)});function X(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}const ee=e=>{const t="#text";for(const r in e)e.hasOwnProperty(r)&&void 0!==e[r][t]?e[r]=e[r][t]:"object"==typeof e[r]&&null!==e[r]&&(e[r]=ee(e[r]));return e},te=function(){const e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null,...arguments]));return Object.setPrototypeOf(t,e.prototype),t};te.prototype=Object.create(String.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(te,String);const re=(e,t)=>{const r={};for(const n in t)ne(r,e,t,n);return r},ne=(e,t,r,n)=>{if(null!==t){let o=r[n];"function"==typeof o&&(o=[,o]);const[s=oe,i=se,a=n]=o;return void(("function"==typeof s&&s(t[a])||"function"!=typeof s&&s)&&(e[n]=i(t[a])))}let[o,s]=r[n];if("function"==typeof s){let t;const r=void 0===o&&null!=(t=s()),i="function"==typeof o&&!!o(void 0)||"function"!=typeof o&&!!o;r?e[n]=t:i&&(e[n]=s())}else{const t=void 0===o&&null!=s,r="function"==typeof o&&!!o(s)||"function"!=typeof o&&!!o;(t||r)&&(e[n]=s)}},oe=e=>null!=e,se=e=>e,ie=e=>{if(null==e)return{};if(Array.isArray(e))return e.filter(e=>null!=e).map(ie);if("object"==typeof e){const t={};for(const r of Object.keys(e))null!=e[r]&&(t[r]=ie(e[r]));return t}return e}},7523(e,t,r){var n,o,s,i,a;r.d(t,{dB:()=>i,Ue:()=>s,Vf:()=>c}),function(e){e.HEADER="header",e.QUERY="query"}(n||(n={})),function(e){e.HEADER="header",e.QUERY="query"}(o||(o={})),function(e){e.HTTP="http",e.HTTPS="https"}(s||(s={})),function(e){e.MD5="md5",e.CRC32="crc32",e.CRC32C="crc32c",e.SHA1="sha1",e.SHA256="sha256"}(i||(i={})),function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(a||(a={}));const c="__smithy_context";var d,l;!function(e){e.PROFILE="profile",e.SSO_SESSION="sso-session",e.SERVICES="services"}(d||(d={})),function(e){e.HTTP_0_9="http/0.9",e.HTTP_1_0="http/1.0",e.TDS_8_0="tds/8.0"}(l||(l={}))},8004(e,t,r){r.d(t,{a:()=>s,n:()=>i});const n={},o={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),n[e]=t,o[t]=e}function s(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const n=e.slice(r,r+2).toLowerCase();if(!(n in o))throw new Error(`Cannot decode unrecognized sequence ${n} as hexadecimal`);t[r/2]=o[n]}return t}function i(e){let t="";for(let r=0;r<e.byteLength;r++)t+=n[e[r]];return t}}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var s=n[e]={exports:{}};return r[e].call(s.exports,s,s.exports,o),s.exports}o.m=r,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce((t,r)=>(o.f[r](e,t),t),[])),o.u=e=>e+".index.min.mjs",o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e={792:0},t=t=>{var r,n,{__webpack_esm_ids__:s,__webpack_esm_modules__:i,__webpack_esm_runtime__:a}=t,c=0;for(r in i)o.o(i,r)&&(o.m[r]=i[r]);for(a&&a(o);c<s.length;c++)n=s[c],o.o(e,n)&&e[n]&&e[n][0](),e[s[c]]=0},o.f.j=(r,n)=>{var s=o.o(e,r)?e[r]:void 0;if(0!==s)if(s)n.push(s[1]);else{var i=import("./"+o.u(r)).then(t,t=>{throw 0!==e[r]&&(e[r]=void 0),t});i=Promise.race([i,new Promise(t=>s=e[r]=[t])]),n.push(s[1]=i)}};var s=o(6055);function i(e){return Promise.all(Object.keys(e).reduce((t,r)=>{const n=e[r];return"string"==typeof n?t.push([r,n]):t.push(n().then(e=>[r,e])),t},[])).then(e=>e.reduce((e,[t,r])=>(e[t]=r,e),{}))}function a(e){return async()=>{e.logger?.debug("@aws-sdk/credential-provider-cognito-identity","fromCognitoIdentity");const{GetCredentialsForIdentityCommand:t,CognitoIdentityClient:r}=await Promise.all([o.e(720),o.e(95)]).then(o.bind(o,2095)),{Credentials:{AccessKeyId:n=c(),Expiration:s,SecretKey:a=l(),SessionToken:u}=d()}=await(e.client??new r(Object.assign({},e.clientConfig??{},{region:e.clientConfig?.region??e.parentClientConfig?.region}))).send(new t({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await i(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:n,secretAccessKey:a,sessionToken:u,expiration:s}}}function c(){throw new s.C1("Response from Amazon Cognito contained no access key ID")}function d(){throw new s.C1("Response from Amazon Cognito contained no credentials")}function l(){throw new s.C1("Response from Amazon Cognito contained no secret key")}const u=e=>a({...e}),f="IdentityIds";class h{constructor(e="aws:cognito-identity-ids"){this.dbName=e}getItem(e){return this.withObjectStore("readonly",t=>{const r=t.get(e);return new Promise(e=>{r.onerror=()=>e(null),r.onsuccess=()=>e(r.result?r.result.value:null)})}).catch(()=>null)}removeItem(e){return this.withObjectStore("readwrite",t=>{const r=t.delete(e);return new Promise((e,t)=>{r.onerror=()=>t(r.error),r.onsuccess=()=>e()})})}setItem(e,t){return this.withObjectStore("readwrite",r=>{const n=r.put({id:e,value:t});return new Promise((e,t)=>{n.onerror=()=>t(n.error),n.onsuccess=()=>e()})})}getDb(){const e=self.indexedDB.open(this.dbName,1);return new Promise((t,r)=>{e.onsuccess=()=>{t(e.result)},e.onerror=()=>{r(e.error)},e.onblocked=()=>{r(new Error("Unable to access DB"))},e.onupgradeneeded=()=>{const t=e.result;t.onerror=()=>{r(new Error("Failed to create object store"))},t.createObjectStore(f,{keyPath:"id"})}})}withObjectStore(e,t){return this.getDb().then(r=>{const n=r.transaction(f,e);return n.oncomplete=()=>r.close(),new Promise((e,r)=>{n.onerror=()=>r(n.error),e(t(n.objectStore(f)))}).catch(e=>{throw r.close(),e})})}}const p=new class{constructor(e={}){this.store=e}getItem(e){return e in this.store?this.store[e]:null}removeItem(e){delete this.store[e]}setItem(e,t){this.store[e]=t}};function m(){return"object"==typeof self&&self.indexedDB?new h:"object"==typeof window&&window.localStorage?window.localStorage:p}function y(){throw new s.C1("Response from Amazon Cognito contained no identity ID")}const w=e=>function({accountId:e,cache:t=m(),client:r,clientConfig:n,customRoleArn:s,identityPoolId:c,logins:d,userIdentifier:l=(d&&0!==Object.keys(d).length?void 0:"ANONYMOUS"),logger:u,parentClientConfig:f}){u?.debug("@aws-sdk/credential-provider-cognito-identity","fromCognitoIdentity");const h=l?`aws:cognito-identity-credentials:${c}:${l}`:void 0;let p=async()=>{const{GetIdCommand:l,CognitoIdentityClient:u}=await Promise.all([o.e(720),o.e(95)]).then(o.bind(o,2095)),m=r??new u(Object.assign({},n??{},{region:n?.region??f?.region}));let w=h&&await t.getItem(h);if(!w){const{IdentityId:r=y()}=await m.send(new l({AccountId:e,IdentityPoolId:c,Logins:d?await i(d):void 0}));w=r,h&&Promise.resolve(t.setItem(h,w)).catch(()=>{})}return p=a({client:m,customRoleArn:s,logins:d,identityId:w}),p()};return()=>p().catch(async e=>{throw h&&Promise.resolve(t.removeItem(h)).catch(()=>{}),e})}({...e});var g=o(3957),b=o(5479),v=o(6642),C=o(3339);const S=e=>{let t;e.logger?.debug("@aws-sdk/credential-provider-http","fromHttp");const r=e.credentialsFullUri;if(!r)throw new s.C1("No HTTP credential provider host provided.");t=r;const n=new URL(t);(e=>{if("https:"!==e.protocol&&"169.254.170.2"!==e.hostname&&"169.254.170.23"!==e.hostname&&"[fd00:ec2::23]"!==e.hostname){if(e.hostname.includes("[")){if("[::1]"===e.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===e.hostname)return}else{if("localhost"===e.hostname)return;const t=e.hostname.split("."),r=e=>{const t=parseInt(e,10);return 0<=t&&t<=255};if("127"===t[0]&&r(t[1])&&r(t[2])&&r(t[3])&&4===t.length)return}throw new s.C1("URL not accepted. It must either be HTTPS or match one of the following:\n  - loopback CIDR 127.0.0.0/8 or [::1/128]\n  - ECS container host 169.254.170.2\n  - EKS container host 169.254.170.23 or [fd00:ec2::23]")}})(n);const o=new g.NC;return i=async()=>{const t=function(e){return new b.Kd({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((e,[t,r])=>(e[t]=r,e),{}),fragment:e.hash})}(n);return e.authorizationToken&&(t.headers.Authorization=e.authorizationToken),async function(e){const t=e?.headers["content-type"]??e?.headers["Content-Type"]??"";t.includes("json")||console.warn("HTTP credential provider response header content-type was not application/json. Observed: "+t+".");const r=(0,C.c9)(e.body),n=await r.transformToString();if(200===e.statusCode){const e=JSON.parse(n);if("string"!=typeof e.AccessKeyId||"string"!=typeof e.SecretAccessKey||"string"!=typeof e.Token||"string"!=typeof e.Expiration)throw new s.C1("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }");return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:(0,v.EI)(e.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let t={};try{t=JSON.parse(n)}catch(e){}throw Object.assign(new s.C1(`Server responded with status: ${e.statusCode}`),{Code:t.Code,Message:t.Message})}throw new s.C1(`Server responded with status: ${e.statusCode}`)}((await o.handle(t)).response)},a=e.maxRetries??3,c=e.timeout??1e3,async()=>{for(let e=0;e<a;++e)try{return await i()}catch(e){await new Promise(e=>setTimeout(e,c))}return await i()};var i,a,c},E=e=>{let t;return async()=>{e.logger?.debug("@aws-sdk/credential-providers","fromTemporaryCredentials (STS)");const r={...e.params,RoleSessionName:e.params.RoleSessionName??"aws-sdk-js-"+Date.now()};if(r?.SerialNumber){if(!e.mfaCodeProvider)throw new s.C1("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",!1);r.TokenCode=await e.mfaCodeProvider(r?.SerialNumber)}const{AssumeRoleCommand:n,STSClient:i}=await Promise.all([o.e(720),o.e(477),o.e(975)]).then(o.bind(o,2975));if(t||(t=new i({...e.clientConfig,credentials:e.masterCredentials})),e.clientPlugins)for(const r of e.clientPlugins)t.middlewareStack.use(r);const{Credentials:a}=await t.send(new n(r));if(!a||!a.AccessKeyId||!a.SecretAccessKey)throw new s.C1(`Invalid response from STS.assumeRole call with role ${r.RoleArn}`);return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.SessionToken,expiration:a.Expiration,credentialScope:a.CredentialScope}}},T=e=>(e=>async()=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity","fromWebToken");const{roleArn:t,roleSessionName:r,webIdentityToken:n,providerId:s,policyArns:i,policy:a,durationSeconds:c}=e;let{roleAssumerWithWebIdentity:d}=e;if(!d){const{getDefaultRoleAssumerWithWebIdentity:t}=await Promise.all([o.e(720),o.e(477),o.e(429)]).then(o.bind(o,5429));d=t({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:e.parentClientConfig},e.clientPlugins)}return d({RoleArn:t,RoleSessionName:r??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:n,ProviderId:s,PolicyArns:i,Policy:a,DurationSeconds:c})})({...e});export{u as fromCognitoIdentity,w as fromCognitoIdentityPool,S as fromHttp,E as fromTemporaryCredentials,T as fromWebToken};