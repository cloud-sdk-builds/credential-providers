var e,t,r={1871(e,t,r){r.d(t,{EI:()=>i,l3:()=>l,t_:()=>c});var o=r(6460);const n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],s=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),i=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=s.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,i,a,c,l,u,f]=t,p=(0,o.zi)(y(n)),g=h(i,"month",1,12),m=h(a,"day",1,31);return d(p,g,m,{hours:c,minutes:l,seconds:u,fractionalMilliseconds:f})},a=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),c=e=>{if(null==e)return;if("string"!=typeof e)throw new TypeError("RFC-3339 date-times must be expressed as strings");const t=a.exec(e);if(!t)throw new TypeError("Invalid RFC-3339 date-time value");const[r,n,s,i,c,l,u,f,p]=t,g=(0,o.zi)(y(n)),w=h(s,"month",1,12),b=h(i,"day",1,31),v=d(g,w,b,{hours:c,minutes:l,seconds:u,fractionalMilliseconds:f});return"Z"!=p.toUpperCase()&&v.setTime(v.getTime()-m(p)),v},l=e=>{if(null==e)return;let t;if("number"==typeof e)t=e;else if("string"==typeof e)t=(0,o.OZ)(e);else{if("object"!=typeof e||1!==e.tag)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=e.value}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))},d=(e,t,r,o)=>{const n=t-1;return f(e,n,r),new Date(Date.UTC(e,n,r,h(o.hours,"hour",0,23),h(o.minutes,"minute",0,59),h(o.seconds,"seconds",0,60),g(o.fractionalMilliseconds)))},u=[31,28,31,30,31,30,31,31,30,31,30,31],f=(e,t,r)=>{let o=u[t];if(1===t&&p(e)&&(o=29),r>o)throw new TypeError(`Invalid day for ${n[t]} in ${e}: ${r}`)},p=e=>e%4==0&&(e%100!=0||e%400==0),h=(e,t,r,n)=>{const s=(0,o.tW)(y(e));if(s<r||s>n)throw new TypeError(`${t} must be between ${r} and ${n}, inclusive`);return s},g=e=>null==e?0:1e3*(0,o.UO)("0."+e),m=e=>{const t=e[0];let r=1;if("+"==t)r=1;else{if("-"!=t)throw new TypeError(`Offset direction, ${t}, must be "+" or "-"`);r=-1}return r*(60*Number(e.substring(1,3))+Number(e.substring(4,6)))*60*1e3},y=e=>{let t=0;for(;t<e.length-1&&"0"===e.charAt(t);)t++;return 0===t?e:e.slice(t)}},2531(e,t,r){r.d(t,{o:()=>o});const o=e=>encodeURIComponent(e).replace(/[!'()*]/g,n),n=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`},2637(e,t,r){r.d(t,{a:()=>o});const o=e=>(new TextEncoder).encode(e)},3193(e,t,r){r.d(t,{Kc:()=>s,OF:()=>c,_w:()=>i,kQ:()=>a,mh:()=>n});const o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Object.entries(o).reduce((e,[t,r])=>(e[r]=Number(t),e),{}),s=o.split(""),i=6,a=8,c=63},4094(e,t,r){r.d(t,{c:()=>o});class o{statusCode;reason;headers;body;constructor(e){this.statusCode=e.statusCode,this.reason=e.reason,this.headers=e.headers||{},this.body=e.body}static isInstance(e){if(!e)return!1;const t=e;return"number"==typeof t.statusCode&&"object"==typeof t.headers}}},4367(e,t,r){r.d(t,{t:()=>o});const o=e=>{if("function"==typeof e)return e;const t=Promise.resolve(e);return()=>t}},5792(e,t,r){r.d(t,{P:()=>o});const o=e=>{if("string"==typeof e)return e;if("object"!=typeof e||"number"!=typeof e.byteOffset||"number"!=typeof e.byteLength)throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return new TextDecoder("utf-8").decode(e)}},6460(e,t,r){r.d(t,{OZ:()=>l,UO:()=>d,Y0:()=>a,lK:()=>c,r$:()=>o,tW:()=>g,xW:()=>p,zi:()=>h});const o=e=>{if(null!=e){if("string"==typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&y.warn(m(`Expected number but observed string: ${e}`)),t}if("number"==typeof e)return e;throw new TypeError(`Expected number, got ${typeof e}: ${e}`)}},n=Math.ceil(2**127*(2-2**-23)),s=(e,t)=>{const r=(e=>{if(null!=e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError(`Expected integer, got ${typeof e}: ${e}`)}})(e);if(void 0!==r&&i(r,t)!==r)throw new TypeError(`Expected ${t}-bit integer, got ${e}`);return r},i=(e,t)=>{switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},a=(e,t)=>{if(null==e){if(t)throw new TypeError(`Expected a non-null value for ${t}`);throw new TypeError("Expected a non-null value")}return e},c=e=>{if(null!=e){if("string"==typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return y.warn(m(`Expected string, got ${typeof e}: ${e}`)),String(e);throw new TypeError(`Expected string, got ${typeof e}: ${e}`)}},l=e=>o("string"==typeof e?f(e):e),d=e=>(e=>{const t=o(e);if(void 0!==t&&!Number.isNaN(t)&&t!==1/0&&t!==-1/0&&Math.abs(t)>n)throw new TypeError(`Expected 32-bit float, got ${e}`);return t})("string"==typeof e?f(e):e),u=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,f=e=>{const t=e.match(u);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},p=e=>(e=>s(e,32))("string"==typeof e?f(e):e),h=e=>(e=>s(e,16))("string"==typeof e?f(e):e),g=e=>(e=>s(e,8))("string"==typeof e?f(e):e),m=e=>String(new TypeError(e).stack||e).split("\n").slice(0,5).filter(e=>!e.includes("stackTraceWarning")).join("\n"),y={warn:console.warn}},6906(e,t,r){r.d(t,{N:()=>c});var o=r(4094),n=r(2531);function s(e,t){return new Request(e,t)}function i(e=0){return new Promise((t,r)=>{e&&setTimeout(()=>{const t=new Error(`Request did not complete within ${e} ms`);t.name="TimeoutError",r(t)},e)})}const a={supported:void 0};class c{config;configProvider;static create(e){return"function"==typeof e?.handle?e:new c(e)}constructor(e){"function"==typeof e?this.configProvider=e().then(e=>e||{}):(this.config=e??{},this.configProvider=Promise.resolve(this.config)),void 0===a.supported&&(a.supported=Boolean("undefined"!=typeof Request&&"keepalive"in s("https://[::1]")))}destroy(){}async handle(e,{abortSignal:t,requestTimeout:r}={}){this.config||(this.config=await this.configProvider);const c=r??this.config.requestTimeout,l=!0===this.config.keepAlive,d=this.config.credentials;if(t?.aborted){const e=new Error("Request aborted");return e.name="AbortError",Promise.reject(e)}let u=e.path;const f=function(e){const t=[];for(let r of Object.keys(e).sort()){const o=e[r];if(r=(0,n.o)(r),Array.isArray(o))for(let e=0,s=o.length;e<s;e++)t.push(`${r}=${(0,n.o)(o[e])}`);else{let e=r;(o||"string"==typeof o)&&(e+=`=${(0,n.o)(o)}`),t.push(e)}}return t.join("&")}(e.query||{});f&&(u+=`?${f}`),e.fragment&&(u+=`#${e.fragment}`);let p="";null==e.username&&null==e.password||(p=`${e.username??""}:${e.password??""}@`);const{port:h,method:g}=e,m=`${e.protocol}//${p}${e.hostname}${h?`:${h}`:""}${u}`,y="GET"===g||"HEAD"===g?void 0:e.body,w={body:y,headers:new Headers(e.headers),method:g,credentials:d};this.config?.cache&&(w.cache=this.config.cache),y&&(w.duplex="half"),"undefined"!=typeof AbortController&&(w.signal=t),a.supported&&(w.keepalive=l),"function"==typeof this.config.requestInit&&Object.assign(w,this.config.requestInit(e));let b=()=>{};const v=s(m,w),C=[fetch(v).then(e=>{const t=e.headers,r={};for(const e of t.entries())r[e[0]]=e[1];return null!=e.body?{response:new o.c({headers:r,reason:e.statusText,statusCode:e.status,body:e.body})}:e.blob().then(t=>({response:new o.c({headers:r,reason:e.statusText,statusCode:e.status,body:t})}))}),i(c)];return t&&C.push(new Promise((e,r)=>{const o=()=>{const e=new Error("Request aborted");e.name="AbortError",r(e)};if("function"==typeof t.addEventListener){const e=t;e.addEventListener("abort",o,{once:!0}),b=()=>e.removeEventListener("abort",o)}else t.onabort=o})),Promise.race(C).finally(b)}updateHttpClientConfig(e,t){this.config=void 0,this.configProvider=this.configProvider.then(r=>(r[e]=t,r))}httpHandlerConfigs(){return this.config??{}}}},7324(e,t,r){r.d(t,{K:()=>o});class o{method;protocol;hostname;port;path;query;headers;username;password;fragment;body;constructor(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.slice(-1)?`${e.protocol}:`:e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?`/${e.path}`:e.path:"/",this.username=e.username,this.password=e.password,this.fragment=e.fragment}static clone(e){const t=new o({...e,headers:{...e.headers}});var r;return t.query&&(t.query=(r=t.query,Object.keys(r).reduce((e,t)=>{const o=r[t];return{...e,[t]:Array.isArray(o)?[...o]:o}},{}))),t}static isInstance(e){if(!e)return!1;const t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"==typeof t.query&&"object"==typeof t.headers}clone(){return o.clone(this)}}},8004(e,t,r){r.d(t,{a:()=>s,n:()=>i});const o={},n={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),o[e]=t,n[t]=e}function s(e){if(e.length%2!=0)throw new Error("Hex encoded strings must have an even number length");const t=new Uint8Array(e.length/2);for(let r=0;r<e.length;r+=2){const o=e.slice(r,r+2).toLowerCase();if(!(o in n))throw new Error(`Cannot decode unrecognized sequence ${o} as hexadecimal`);t[r/2]=n[o]}return t}function i(e){let t="";for(let r=0;r<e.byteLength;r++)t+=o[e[r]];return t}},8612(e,t,r){r.d(t,{k:()=>n});var o=r(8893);const n=async e=>"function"==typeof Blob&&e instanceof Blob||"Blob"===e.constructor?.name?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await e.arrayBuffer()):async function(e){const t=await function(e){return new Promise((t,r)=>{const o=new FileReader;o.onloadend=()=>{if(2!==o.readyState)return r(new Error("Reader aborted too early"));const e=o.result??"",n=e.indexOf(","),s=n>-1?n+1:e.length;t(e.substring(s))},o.onabort=()=>r(new Error("Read aborted")),o.onerror=()=>r(o.error),o.readAsDataURL(e)})}(e),r=(0,o.E)(t);return new Uint8Array(r)}(e):async function(e){const t=[],r=e.getReader();let o=!1,n=0;for(;!o;){const{done:e,value:s}=await r.read();s&&(t.push(s),n+=s.length),o=e}const s=new Uint8Array(n);let i=0;for(const e of t)s.set(e,i),i+=e.length;return s}(e)},8893(e,t,r){r.d(t,{E:()=>n});var o=r(3193);const n=e=>{let t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;const r=new ArrayBuffer(t),n=new DataView(r);for(let t=0;t<e.length;t+=4){let r=0,s=0;for(let n=t,i=t+3;n<=i;n++)if("="!==e[n]){if(!(e[n]in o.mh))throw new TypeError(`Invalid character ${e[n]} in base64 string.`);r|=o.mh[e[n]]<<(i-n)*o._w,s+=o._w}else r>>=o._w;const i=t/4*3;r>>=s%o.kQ;const a=Math.floor(s/o.kQ);for(let e=0;e<a;e++){const t=(a-e-1)*o.kQ;n.setUint8(i+e,(r&255<<t)>>t)}}return new Uint8Array(r)}},9328(e,t,r){r.d(t,{n:()=>s});var o=r(2637),n=r(3193);function s(e){let t;t="string"==typeof e?(0,o.a)(e):e;const r="object"==typeof t&&"number"==typeof t.length,s="object"==typeof t&&"number"==typeof t.byteOffset&&"number"==typeof t.byteLength;if(!r&&!s)throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");let i="";for(let e=0;e<t.length;e+=3){let r=0,o=0;for(let s=e,i=Math.min(e+3,t.length);s<i;s++)r|=t[s]<<(i-s-1)*n.kQ,o+=n.kQ;const s=Math.ceil(o/n._w);r<<=s*n._w-o;for(let e=1;e<=s;e++){const t=(s-e)*n._w;i+=n.Kc[(r&n.OF<<t)>>t]}i+="==".slice(0,4-s)}return i}}},o={};function n(e){var t=o[e];if(void 0!==t)return t.exports;var s=o[e]={exports:{}};return r[e].call(s.exports,s,s.exports,n),s.exports}n.m=r,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>e+".index.min.mjs",n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={792:0},t=t=>{var r,o,{__webpack_esm_ids__:s,__webpack_esm_modules__:i,__webpack_esm_runtime__:a}=t,c=0;for(r in i)n.o(i,r)&&(n.m[r]=i[r]);for(a&&a(n);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[s[c]]=0},n.f.j=(r,o)=>{var s=n.o(e,r)?e[r]:void 0;if(0!==s)if(s)o.push(s[1]);else{var i=import("./"+n.u(r)).then(t,t=>{throw 0!==e[r]&&(e[r]=void 0),t});i=Promise.race([i,new Promise(t=>s=e[r]=[t])]),o.push(s[1]=i)}};class s extends Error{name="ProviderError";tryNextLink;constructor(e,t=!0){let r,o=!0;"boolean"==typeof t?(r=void 0,o=t):null!=t&&"object"==typeof t&&(r=t.logger,o=t.tryNextLink??!0),super(e),this.tryNextLink=o,Object.setPrototypeOf(this,s.prototype),r?.debug?.(`@smithy/property-provider ${o?"->":"(!)"} ${e}`)}static from(e,t=!0){return Object.assign(new this(e.message,t),e)}}class i extends s{name="CredentialsProviderError";constructor(e,t=!0){super(e,t),Object.setPrototypeOf(this,i.prototype)}}function a(e){return Promise.all(Object.keys(e).reduce((t,r)=>{const o=e[r];return"string"==typeof o?t.push([r,o]):t.push(o().then(e=>[r,e])),t},[])).then(e=>e.reduce((e,[t,r])=>(e[t]=r,e),{}))}function c(e){return async t=>{e.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const{GetCredentialsForIdentityCommand:r,CognitoIdentityClient:o}=await Promise.all([n.e(674),n.e(833)]).then(n.bind(n,6833)),s=r=>e.clientConfig?.[r]??e.parentClientConfig?.[r]??t?.callerClientConfig?.[r],{Credentials:{AccessKeyId:i=l(e.logger),Expiration:c,SecretKey:f=u(e.logger),SessionToken:p}=d(e.logger)}=await(e.client??new o(Object.assign({},e.clientConfig??{},{region:s("region"),profile:s("profile")}))).send(new r({CustomRoleArn:e.customRoleArn,IdentityId:e.identityId,Logins:e.logins?await a(e.logins):void 0}));return{identityId:e.identityId,accessKeyId:i,secretAccessKey:f,sessionToken:p,expiration:c}}}function l(e){throw new i("Response from Amazon Cognito contained no access key ID",{logger:e})}function d(e){throw new i("Response from Amazon Cognito contained no credentials",{logger:e})}function u(e){throw new i("Response from Amazon Cognito contained no secret key",{logger:e})}const f=e=>c({...e}),p="IdentityIds";class h{dbName;constructor(e="aws:cognito-identity-ids"){this.dbName=e}getItem(e){return this.withObjectStore("readonly",t=>{const r=t.get(e);return new Promise(e=>{r.onerror=()=>e(null),r.onsuccess=()=>e(r.result?r.result.value:null)})}).catch(()=>null)}removeItem(e){return this.withObjectStore("readwrite",t=>{const r=t.delete(e);return new Promise((e,t)=>{r.onerror=()=>t(r.error),r.onsuccess=()=>e()})})}setItem(e,t){return this.withObjectStore("readwrite",r=>{const o=r.put({id:e,value:t});return new Promise((e,t)=>{o.onerror=()=>t(o.error),o.onsuccess=()=>e()})})}getDb(){const e=self.indexedDB.open(this.dbName,1);return new Promise((t,r)=>{e.onsuccess=()=>{t(e.result)},e.onerror=()=>{r(e.error)},e.onblocked=()=>{r(new Error("Unable to access DB"))},e.onupgradeneeded=()=>{const t=e.result;t.onerror=()=>{r(new Error("Failed to create object store"))},t.createObjectStore(p,{keyPath:"id"})}})}withObjectStore(e,t){return this.getDb().then(r=>{const o=r.transaction(p,e);return o.oncomplete=()=>r.close(),new Promise((e,r)=>{o.onerror=()=>r(o.error),e(t(o.objectStore(p)))}).catch(e=>{throw r.close(),e})})}}const g=new class{store;constructor(e={}){this.store=e}getItem(e){return e in this.store?this.store[e]:null}removeItem(e){delete this.store[e]}setItem(e,t){this.store[e]=t}};function m(){return"object"==typeof self&&self.indexedDB?new h:"object"==typeof window&&window.localStorage?window.localStorage:g}function y(e){throw new i("Response from Amazon Cognito contained no identity ID",{logger:e})}const w=e=>function({accountId:e,cache:t=m(),client:r,clientConfig:o,customRoleArn:s,identityPoolId:i,logins:l,userIdentifier:d=(l&&0!==Object.keys(l).length?void 0:"ANONYMOUS"),logger:u,parentClientConfig:f}){u?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");const p=d?`aws:cognito-identity-credentials:${i}:${d}`:void 0;let h=async d=>{const{GetIdCommand:g,CognitoIdentityClient:m}=await Promise.all([n.e(674),n.e(833)]).then(n.bind(n,6833)),w=e=>o?.[e]??f?.[e]??d?.callerClientConfig?.[e],b=r??new m(Object.assign({},o??{},{region:w("region"),profile:w("profile")}));let v=p&&await t.getItem(p);if(!v){const{IdentityId:r=y(u)}=await b.send(new g({AccountId:e,IdentityPoolId:i,Logins:l?await a(l):void 0}));v=r,p&&Promise.resolve(t.setItem(p,v)).catch(()=>{})}return h=c({client:b,customRoleArn:s,logins:l,identityId:v}),h(d)};return e=>h(e).catch(async e=>{throw p&&Promise.resolve(t.removeItem(p)).catch(()=>{}),e})}({...e});var b=n(6906),v=n(7324),C=n(1871),E=n(8612),T=n(9328),I=n(8004),S=n(5792);const A=e=>"function"==typeof ReadableStream&&(e?.constructor?.name===ReadableStream.name||e instanceof ReadableStream),P="The stream has already been transformed.",k=e=>"function"==typeof Blob&&e instanceof Blob,x=(e={})=>{let t;e.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");const r=e.credentialsFullUri;if(!r)throw new i("No HTTP credential provider host provided.",{logger:e.logger});t=r;const o=new URL(t);((e,t)=>{if("https:"!==e.protocol&&"169.254.170.2"!==e.hostname&&"169.254.170.23"!==e.hostname&&"[fd00:ec2::23]"!==e.hostname){if(e.hostname.includes("[")){if("[::1]"===e.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===e.hostname)return}else{if("localhost"===e.hostname)return;const t=e.hostname.split("."),r=e=>{const t=parseInt(e,10);return 0<=t&&t<=255};if("127"===t[0]&&r(t[1])&&r(t[2])&&r(t[3])&&4===t.length)return}throw new i("URL not accepted. It must either be HTTPS or match one of the following:\n  - loopback CIDR 127.0.0.0/8 or [::1/128]\n  - ECS container host 169.254.170.2\n  - EKS container host 169.254.170.23 or [fd00:ec2::23]",{logger:t})}})(o,e.logger);const n=new b.N;return s=async()=>{const t=function(e){return new v.K({protocol:e.protocol,hostname:e.hostname,port:Number(e.port),path:e.pathname,query:Array.from(e.searchParams.entries()).reduce((e,[t,r])=>(e[t]=r,e),{}),fragment:e.hash})}(o);return e.authorizationToken&&(t.headers.Authorization=e.authorizationToken),async function(e,t){const r=(e=>{if(!k(e)&&!A(e))throw new Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${e?.__proto__?.constructor?.name||e}`);let t=!1;const r=async()=>{if(t)throw new Error(P);return t=!0,await(0,E.k)(e)};return Object.assign(e,{transformToByteArray:r,transformToString:async e=>{const t=await r();if("base64"===e)return(0,T.n)(t);if("hex"===e)return(0,I.n)(t);if(void 0===e||"utf8"===e||"utf-8"===e)return(0,S.P)(t);if("function"==typeof TextDecoder)return new TextDecoder(e).decode(t);throw new Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(t)throw new Error(P);if(t=!0,k(e))return(e=>{if("function"!=typeof e.stream)throw new Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return e.stream()})(e);if(A(e))return e;throw new Error(`Cannot transform payload to web stream, got ${e}`)}})})(e.body),o=await r.transformToString();if(200===e.statusCode){const e=JSON.parse(o);if("string"!=typeof e.AccessKeyId||"string"!=typeof e.SecretAccessKey||"string"!=typeof e.Token||"string"!=typeof e.Expiration)throw new i("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:t});return{accessKeyId:e.AccessKeyId,secretAccessKey:e.SecretAccessKey,sessionToken:e.Token,expiration:(0,C.EI)(e.Expiration)}}if(e.statusCode>=400&&e.statusCode<500){let r={};try{r=JSON.parse(o)}catch(e){}throw Object.assign(new i(`Server responded with status: ${e.statusCode}`,{logger:t}),{Code:r.Code,Message:r.Message})}throw new i(`Server responded with status: ${e.statusCode}`,{logger:t})}((await n.handle(t)).response)},a=e.maxRetries??3,c=e.timeout??1e3,async()=>{for(let e=0;e<a;++e)try{return await s()}catch(e){await new Promise(e=>setTimeout(e,c))}return await s()};var s,a,c};var $=n(4367);const N=(e,t,r)=>{let o;return async(s={})=>{const{callerClientConfig:a}=s,c=e.clientConfig?.profile??a?.profile,l=e.logger??a?.logger;l?.debug("@aws-sdk/credential-providers - fromTemporaryCredentials (STS)");const d={...e.params,RoleSessionName:e.params.RoleSessionName??"aws-sdk-js-"+Date.now()};if(d?.SerialNumber){if(!e.mfaCodeProvider)throw new i("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",{tryNextLink:!1,logger:l});d.TokenCode=await e.mfaCodeProvider(d?.SerialNumber)}const{AssumeRoleCommand:u,STSClient:f}=await Promise.all([n.e(674),n.e(325),n.e(784)]).then(n.bind(n,6784));if(!o){const n="function"==typeof t?t():void 0,s=[e.masterCredentials,e.clientConfig?.credentials,void 0,a?.credentialDefaultProvider?.(),n];let i="STS client default credentials";if(s[0])i="options.masterCredentials";else if(s[1])i="options.clientConfig.credentials";else{if(s[2])throw i="caller client's credentials",new Error("fromTemporaryCredentials recursion in callerClientConfig.credentials");s[3]?i="caller client's credentialDefaultProvider":s[4]&&(i="AWS SDK default credentials")}const d=[e.clientConfig?.region,a?.region,await(r?.({profile:c})),"us-east-1"];let u="default partition's default region";d[0]?u="options.clientConfig.region":d[1]?u="caller client's region":d[2]&&(u="file or env region");const p=[R(e.clientConfig?.requestHandler),R(a?.requestHandler)];let h="STS default requestHandler";p[0]?h="options.clientConfig.requestHandler":p[1]&&(h="caller client's requestHandler"),l?.debug?.(`@aws-sdk/credential-providers - fromTemporaryCredentials STS client init with ${u}=${await(0,$.t)(j(d))()}, ${i}, ${h}.`),o=new f({...e.clientConfig,credentials:j(s),logger:l,profile:c,region:j(d),requestHandler:j(p)})}if(e.clientPlugins)for(const t of e.clientPlugins)o.middlewareStack.use(t);const{Credentials:p}=await o.send(new u(d));if(!p||!p.AccessKeyId||!p.SecretAccessKey)throw new i(`Invalid response from STS.assumeRole call with role ${d.RoleArn}`,{logger:l});return{accessKeyId:p.AccessKeyId,secretAccessKey:p.SecretAccessKey,sessionToken:p.SessionToken,expiration:p.Expiration,credentialScope:p.CredentialScope}}},R=e=>"h2"===e?.metadata?.handlerProtocol?void 0:e,j=e=>{for(const t of e)if(void 0!==t)return t},O=e=>(e=>async t=>{e.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");const{roleArn:r,roleSessionName:o,webIdentityToken:s,providerId:i,policyArns:a,policy:c,durationSeconds:l}=e;let{roleAssumerWithWebIdentity:d}=e;if(!d){const{getDefaultRoleAssumerWithWebIdentity:r}=await Promise.all([n.e(674),n.e(325)]).then(n.bind(n,3325));d=r({...e.clientConfig,credentialProviderLogger:e.logger,parentClientConfig:{...t?.callerClientConfig,...e.parentClientConfig}},e.clientPlugins)}return d({RoleArn:r,RoleSessionName:o??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:s,ProviderId:i,PolicyArns:a,Policy:c,DurationSeconds:l})})({...e});export{f as fromCognitoIdentity,w as fromCognitoIdentityPool,x as fromHttp,N as fromTemporaryCredentials,O as fromWebToken};